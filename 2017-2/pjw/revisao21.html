---
layout: course
quiz-number: 7.5
quiz-title: Revis√£o 2.1
date: 2017-10-25 00:00
---

<h1>{{ page.quiz-title }}</h1>

<p>Esta √© uma revis√£o para a segunda prova.</p>

<ol>
  <li class="pergunta" value="1">
    <p>
      Na aplica√ß√£o de <u>MiniBlog</u>, o que voc√™ faria para que a lista de posts fosse exibido na ordem, sendo que os
      mais recentes apare√ßam primeiro e os mais antigos no final?
    </p>
    <p>
      Desenvolva a solu√ß√£o que voc√™ optou.
    </p>
  </li>

  <li class="resposta">
    Essa √© uma quest√£o para discuss√£o em sala.
  </li>

  <li class="pergunta" value="2">
    <p>Desenvolva a funcionalidade de modificar os <em>posts</em> do <u>MiniBlog</u>, que atenda aos seguintes requisitos:</p>

    <ol type="a">
      <li>O hor√°rio de publica√ß√£o n√£o poder√° ser alterado.</li>
      <li>
        Na visualiza√ß√£o do texto do <em>post</em>, se ele foi modificado, dever√° ser exibida a informa√ß√£o de que o
        <em>post</em> foi modificado em tal data/hora.
      </li>
      <li>
        A modifica√ß√£o do <em>post</em> deve ocorrer de forma autom√°tica, quando o usu√°rio solicitar a modifica√ß√£o, ent√£o
        essa ser√° a hora em que o <em>post</em> foi modificado.
      </li>
    </ol>

    <hr>

    <p>
      Nessa quest√£o, voc√™ dever√° alterar o esquema da tabela <kbd>Posts</kbd>, adicionando uma segunda coluna
      <code>DATETIME</code> para saber o momento da modifica√ß√£o. Use a instru√ß√£o abaixo na tabela j√° criada:
    </p>

    {% highlight sql %}ALTER TABLE Posts ADD modificado DATETIME NULL{% endhighlight %}

    <p>Assim, em resumo, para atingir os objetivos da quest√£o, voc√™ precisar√°:</p>
    <ol type="I">
      <li>Adicionar a nova coluna ao banco de dados.</li>
      <li>Adicionar o novo campo √† classe de dados <code>Post</code>.</li>
      <li>Modificar o <code>PostDao</code> para utilizar o novo campo.</li>
      <li>Adicionar um novo subcomando para exibir o formul√°rio de modifica√ß√£o e executar a a√ß√£o de modificar o
        <em>post</em> no banco de dados.</li>
    </ol>

    <p>
      OBS:
      <span style="font-weight: normal;">
        lembre-se que a coluna <u>modificado</u> √© <code>NULL</code>, portanto, para saber se o <em>post</em>
        foi modificado no Java, basta fazer a compara√ß√£o <code>modificado != null</code>.
      </span>
    </p>
  </li>

  <li class="resposta">
    Tente fazer primeiro üëç
  </li>

  <li class="pergunta" value="3">
    <p>Adicione √† aplica√ß√£o <u>MiniBlog</u> o recurso de marcar um <em>post</em> com uma <em>tag</em>.</p>

    <p>A funcionalidade de <em>tags</em> dever√° funcionar da seguinte forma:</p>
    <ol type="a">
      <li>Cada <em>post</em> poder√° ser marcado com apenas uma <em>tag</em>.</li>
      <li>Poder√° haver <em>posts</em> sem marca√ß√£o.</li>
      <li>
        A cria√ß√£o de <em>tags</em> dever√° ser autom√°tica, se ao criar ou modificar um <em>post</em>, for escrito o nome
        de uma <em>tag</em> inexistente, ent√£o esta dever√° ser criada.
      </li>
      <li>
        Na visualiza√ß√£o do texto do <em>post</em>, dever√° aparecer a <em>tag</em> marcada. Se o <em>post</em> n√£o tiver
        marca√ß√£o, ent√£o dever√° ser exibido essa informa√ß√£o.
      </li>
      <li>
        N√£o ser√° necess√°rio criar telas de CRUD para as <em>tags</em>.
      </li>
    </ol>

    <hr>

    <p>As <em>tags</em> ser√£o mantidas na tabela <kbd>Tags</kbd>:</p>

    <table class="opcoes">
      <tr>
        <td><img src="un2/tags.svg"></td>
        <td>{% highlight sql %}{% include_relative un2/create-tags.sql %}{% endhighlight %}</td>
      </tr>
    </table>

    <p>E √© preciso criar a chave estrangeira na tabela <kbd>Posts</kbd>:</p>

    {% highlight sql %}ALTER TABLE Posts ADD tag_id INT NULL REFERENCES Tags (id){% endhighlight %}

    <p>Estou fornecendo tamb√©m as classes de acesso a dados <code>Tag</code> e <code>TagDao</code>, com os m√©todos
      necess√°rios para a quest√£o.</p>

    <details>
      <summary><kbd>Tag.java</kbd></summary>
      {% highlight java %}{% include_relative un2/Tag.java %}{% endhighlight %}
    </details>

    <details>
      <summary><kbd>TagDao.java</kbd></summary>
      {% highlight java %}{% include_relative un2/TagDao.java %}{% endhighlight %}
    </details>
  </li>

  <li class="resposta">
    Tente fazer primeiro üëç
  </li>
</ol>
