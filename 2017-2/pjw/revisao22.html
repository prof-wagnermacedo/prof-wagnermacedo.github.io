---
layout: course
quiz-number: 7.5
quiz-title: Revis√£o 2.2
date: 2017-10-26 00:00
---

<h1>{{ page.quiz-title }}</h1>

<p>Esta √© uma revis√£o para a segunda prova.</p>

<ol>
  <li class="pergunta" value="1">
    Altere o <u>MiniBlog</u> para utilizar AJAX no formul√°rio para publicar novos <em>posts</em>, nesse caso, ap√≥s a
    publica√ß√£o, uma <code>&lt;div&gt;</code> acima do formul√°rio dever√° ser modificada para informar que a publica√ß√£o
    foi realizada com sucesso.
  </li>
  <li class="resposta">
    Tente fazer primeiro üëç
  </li>

  <li class="pergunta" value="2">
    <p>Adicione ao <u>MiniBlog</u> a funcionalidade de filtrar a lista de <em>posts</em> por uma certa <em>tag</em>.</p>

    <p>
      Assim, adicione antes da lista de <em>posts</em> um campo de busca que autocomplete as <em>tags</em> dispon√≠veis
      cadastradas no sistema usando AJAX. Ser√° algo como o seguinte:
    </p>

    <div class="exemplo-out" data-caption="Exemplo est√°tico">
      <p class="exemplo">
        Filtrar por tag: <input list="tags-exemplo">
        <datalist id="tags-exemplo">
          <option value="Dica"></option>
          <option value="Google"></option>
          <option value="Java"></option>
          <option value="Programa√ß√£o web"></option>
          <option value="Programa√ß√£o"></option>
        </datalist>
        <button>Buscar</button>
      </p>
    </div>

    <p>
      Para isso funcionar desse jeito use um <code>&lt;input&gt;</code> vinculado a um
      <a href="https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/datalist"
         title="Veja sobre <datalist> no MDN" target="_blank">datalist</a>
      e crie um subcomando que receba os caracteres digitados e devolva uma s√©rie de <code>&lt;option&gt;</code> com os
      valores das <em>tags</em>que iniciem pelos caracteres digitados.
    </p>

    <p>Para a consulta no banco, adicione o seguinte m√©todo √† <code>TagDao.</code></p>

    {% highlight java %}{% include_relative un2/TagDao-obterIniciamPor.java %}{% endhighlight %}

    <hr>

    <p>Resumo do que ser√° necess√°rio fazer nessa quest√£o:</p>
    <ol type="I">
      <li>Adicionar √† p√°gina de lista de <em>posts</em> um formul√°rio tal como:

<!--suppress HtmlUnknownTarget -->
        {% highlight html %}
<form>
  Filtrar por tag: <input list="tags">
  <datalist id="tags"></datalist>
  <button type="submit">Buscar</button>
</form>
{% endhighlight %}
      </li>

      <li><p>Criar o comando no Java para retornar a lista de <code>&lt;option&gt;</code> de <em>tags</em>.</p></li>

      <li>
        <p>Adicionar o evento de JavaScript <code>keyup</code> para pegar os caracteres ao digitar:</p>

        {% highlight js %}
$("input[name='tags']").keyup(function () {
    // Aqui voc√™ ir√° fazer uma chamada AJAX ao servidor web
    // e com o retorno, modificar as op√ß√µes do datalist associado.
});
{% endhighlight %}
      </li>
    </ol>

    <p>
      <b>OBS:</b>
      <span style="font-weight: normal">
        o elemento <code>&lt;datalist&gt;</code> n√£o √© compat√≠vel com o navegador Safari.
      </span>
    </p>
  </li>
  <li class="resposta">
    Tente fazer primeiro üëç
  </li>

  <li class="pergunta" value="3">
    <p>Complete a quest√£o anterior, obtendo os <em>posts</em> de uma certa <em>tag</em> via AJAX.</p>

    <p>Isto √©, ao clicar no bot√£o de busca, a lista de <em>posts</em> dever√° ser atualizado sem recarregar a p√°gina.</p>

    <p>Para atingir esse objetivo, voc√™ precisar√°:</p>
    <ol type="I">
      <li>
        Criar um ou mais m√©todos DAO com o necess√°rio para consultar. Voc√™ deve decidir a melhor estrat√©gia, quais
        classes DAO ser√£o modificadas, quantos m√©todos novos ser√£o necess√°rios, etc.</li>
      <li>
        Criar um comando no Java que retorne o fragmento HTML da lista de <em>posts</em>.</li>
      <li>
        Associar via JavaScript um evento <code>submit()</code> ao formul√°rio e fazer as chamadas AJAX e manipula√ß√µes
        necess√°rias no HTML.</li>
    </ol>
  </li>
  <li class="resposta">
    Tente fazer primeiro üëç
  </li>


</ol>
